<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- MODE 1: autowire="no" (default)                  -->
    <!-- You manually specify every dependency with ref   -->
    <!-- This is what we did in SpringIoCEx4              -->

<!--
    <bean id="email" class="com.vk.notification.EmailNotification"/>
    <bean id="orderService" class="com.vk.order.OrderService" autowire="no">
        <property name="notification" ref="email"/>
    </bean>
-->

    <!-- MODE 2: autowire="byName"                        -->
    <!-- Spring matches bean ID to setter method name     -->
    <!-- Setter: setNotification() so property = "notification"  -->
    <!-- Spring looks for a bean with id="notification"   -->
   
<!--
    <bean id="notification" class="com.vk.notification.EmailNotification"/>
    <bean id="orderService" class="com.vk.order.OrderService" autowire="byName"/>
-->
    <!-- GOTCHA: If you rename bean id to "email" instead of "notification"  -->
    <!-- Spring won't find a match. No error, just null. Silent failure!    -->


  
    <!-- MODE 3: autowire="byType"                        -->
    <!-- Spring matches by TYPE of setter parameter       -->
    <!-- Setter parameter type = NotificationService      -->
    <!-- Spring finds any bean of that type               -->
   

    <bean id="email" class="com.vk.notification.EmailNotification"/>
    <bean id="orderService" class="com.vk.order.OrderService" autowire="byType"/>

    <!-- GOTCHA: If TWO beans of same type exist, Spring gets confused -->
    <!-- Uncomment the line below to see the error: -->
    <!-- <bean id="sms" class="com.vk.notification.SmsNotification"/> -->
    <!-- Error: NoUniqueBeanDefinitionException -->

    <!-- FIX 1: Mark one bean as primary -->
    <!-- <bean id="email" class="com.vk.notification.EmailNotification" primary="true"/> -->
    <!-- <bean id="sms" class="com.vk.notification.SmsNotification"/> -->

    <!-- FIX 2: Exclude one bean from autowiring -->
    <!-- <bean id="email" class="com.vk.notification.EmailNotification"/> -->
    <!-- <bean id="sms" class="com.vk.notification.SmsNotification" autowire-candidate="false"/> -->



    <!-- MODE 4: autowire="constructor"                   -->
    <!-- Same as byType but uses CONSTRUCTOR instead      -->
    <!-- Matches constructor parameter types              -->
<!--
    <bean id="email" class="com.vk.notification.EmailNotification"/>
    <bean id="orderService" class="com.vk.order.OrderService" autowire="constructor"/>
-->
    <!-- Same ambiguity problem as byType if 2 beans of same type exist -->
    <!-- Same fixes: primary="true" or autowire-candidate="false" -->


</beans>